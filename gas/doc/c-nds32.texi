@c Copyright 1991, 1992, 1993, 1994, 1995, 1997, 1999, 2000, 2001,
@c 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2013
@c Free Software Foundation, Inc.
@c This is part of the GAS manual.
@c For copying conditions, see the file as.texinfo.
@page
@node NDS32-Dependent
@chapter NDS32 Dependent Features

@cindex NDS32 processor
The NDS32 processors family includes high-performance and low-power 32-bit
processors for high-end to low-end.  @sc{gnu} @code{@value{AS}} for NDS32
architectures supports NDS32 ISA version 3.  For detail about NDS32
instruction set, please see the AndeStar ISA User Manual which is availible
at http://www.andestech.com/en/index/index.htm

@menu
* NDS32 Options::         Assembler options
* NDS32 Syntax::          High-level assembly macros
@end menu

@node NDS32 Options
@section NDS32 Options

@cindex NDS32 options
@cindex options for NDS32
The NDS32 configurations of @sc{gnu} @code{@value{AS}} support these
special options:

@table @code

@item -EL
Produce little endian data output.

@item -EB
Produce little endian data output.

@item -O
Optimize for performance.

@item -Os
Optimize for space.

@item -mcpu=@var{cpu}
Assemble for CPU.

@item -misa=@var{isa}
Assemble for ISA (v1, v2, v3, v3m).

@item -mabi=@var{abi}
Override default ABI flag in ELF header (1, 2, 2fp).

@item -mall-ext
Allow all instruction extensions.

@item -m[no-]16-bit
Disable/enable 16-bit instructions.

@item -m[no-]perf-ext
Disable/enable Performance extension.

@item -m[no-]perf2-ext
Disable/enable performance extension v2.

@item -m[no-]string-ext
Disable/enable string extension.

@item -m[no-]dsp-ext
Disable/enable dsp extension.

@item -m[no-]mac
Disable/enable multiply/multiply-add instructions (using register d0/d1).

@item -m[no-]div
Disable/enable DIV/DIVS instructions instructions (using register d0/d1).

@item -m[no-]audio-isa-ext
Disable/enable audio ISA extension.

@item -m[no-]fpu-sp-ext
Disable/enable FPU SP extension.

@item -m[no-]fpu-dp-ext
Disable/enable FPU DP extension.

@item -m[no-]fpu-fma
Disable/enable FPU fused-multiply-add instructions.

@item -mfpu-freg=@var{FREG}
Specify a FPU configuration.
@table @code
@item 0      8 SP /  4 DP registers
@item 1     16 SP /  8 DP registers
@item 2     32 SP / 16 DP registers
@item 3     32 SP / 32 DP registers
@end table

@item -mreduced-regs
Only reduced-set registers are allowed.

@item -mfull-regs
Full-set registers are allowed.

@item -m[no-]dx-regs
Reject/allow d0/d1 registers.

@item -mpic
Generate PIC.

@item -mno-relax
Suppress relaxation for this file.

@item -mb2bb
Back-to-back branch optimization.
@end table

@node NDS32 Syntax
@section Syntax

@menu
* NDS32-Chars::                Special Characters
* NDS32-Regs::                 Register Names
@end menu

@node NDS32-Chars
@subsection Special Characters

Use @samp{#} at column 1 and @samp{!} anywhere in the line except inside
quotes.

Multiple instructions in a line are allowed though not recommended and
should be separated by @samp{;}.

Assembler is not case-sensitive in general except user defined label.
For example, @samp{jral F1} is different from @samp{jral f1} while it is
the same as @samp{JRAL F1}.

@node NDS32-Regs
@subsection Register Names
@table @code
@item General purpose registers (GPR)
There are 32 32-bit general purpose registers $r0 to $r31.

@item Accumulators d0 and d1
64-bit accumulators: $d0.hi, $d0.lo, $d1.hi, and $d1.lo.

@item Assembler reserved register $ta
Register $ta ($r15) is reserved for assembler using.

@item Operating system reserved registers $p0 and $p1
Registers $p0 ($r26) and $p1 ($r27) are used by operating system as scratch
registers.

@item Frame pointer $fp
Register $r28 is regarded as the frame pointer.

@item Global pointer
Register $r29 is regarded as the global pointer.

@item Link pointer
Register $r30 is regarded as the link pointer.

@item Stack pointer
Register $r31 is regarded as the stack pointer.
@end table

